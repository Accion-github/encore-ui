<rx-modal-form
    submitText="Confirm Payment"
    title="Make a Payment"
    subtitle="{{user}}">
    <div class="payment-action">
        <div class="account-summary">
            <div class="amount flush-left">
                <strong>Account Balance</strong>
                <p>{{account.balance | CurrencySuffix }}</p>
                <div class="arrow-down"></div>
            </div>
            <div class="amount flush-left">
                <strong>Due Today</strong>
                <p>{{account.currentDue | CurrencySuffix }}</p>
                <div class="arrow-down"></div>
            </div>
            <div class="amount flush-left">
                <strong>Past Due</strong>
                <p>{{account.pastDue | CurrencySuffix }}</p>
                <div class="arrow-down"></div>
            </div>
        </div>
        <div class="payment-field payment-amount">
            <rx-form-input
                type="text"
                label="Payment Amount"
                required="true"
                model="payment.amount"
                field-id="paymentAmount"
            ></rx-form-input>
        </div>
        <div class="payment-field">
            <fieldset class="form-item">
                <label for="paymentOption" class="field-label">Payment Options:</label>
                <div class="field-select">
                    <select name="paymentOption" id="paymentOption" ng-model="payment_method" class="payment-select">
                        <option ng-repeat="payment in paymentMethods" value="{{$index}}">{{payment.type}} - {{payment.card_type}} {{payment.card_number}}</option>
                    </select>
                </div>
                <div class="payment-option-desc">
                    <div ng-show="payment_method != undefined">
                        <dl>
                            <dt>Card Type:</dt>
                            <dd>{{paymentMethods[payment_method].card_type}}</dd>
                            <dt>Name:</dt>
                            <dd>{{paymentMethods[payment_method].card_name}}</dd>
                            <dt>Number:</dt>
                            <dd>{{paymentMethods[payment_method].card_number}}</dd>
                            <dt>Exp. Date:</dt>
                            <dd>{{paymentMethods[payment_method].card_expiration_date | date: 'MM/yyyy'}}</dd>
                        </dl>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
</rx-modal-form>
